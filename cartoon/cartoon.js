const quizData = {
  "سبونج بوب": [
    {
      question: "أين يعمل سبونج بوب؟",
      answers: ["مطعم سلطع", "مطعم شمشون", "بحيرة قناديل البحر", "منزل"],
      correct: "مطعم سلطع"
    },
    {
      question: "ما اسم الحلزون الخاص بسبونج بوب؟",
      answers: ["جاري", "باري", "لاري", "تيري"],
      correct: "جاري"
    },
    {
      question: "من هو صديق سبونج بوب المفضل؟",
      answers: ["شمشون", "ساندي", "بسيط", "مستر سلطع"],
      correct: "بسيط"
    },
    {
      question: "ما الآلة الموسيقية التي يعزف عليها شفيق؟",
      answers: ["كمان", "بيانو", "كلارينيت", "ناي"],
      correct: "كلارينيت"
    },
    {
      question: "ما لون ربطة عنق سبونج بوب؟",
      answers: ["أزرق", "أحمر", "أسود", "أخضر"],
      correct: "أحمر"
    }
  ],
  "ريمي": [
    {
      question: "ما اسم الكلب المخلص لريمي؟",
      answers: ["كابي", "زيزي", "بيبي", "آرثر"],
      correct: "كابي"
    },
    {
      question: "من تبنى ريمي في بداية القصة؟",
      answers: ["فيتاليس", "والده الحقيقي", "العمدة", "عائلة باريسية"],
      correct: "فيتاليس"
    },
    {
      question: "ما اسم الفتى الذي تعرف عليه ريمي في الفرقة؟",
      answers: ["ماتيا", "جاك", "لويس", "فيكتور"],
      correct: "ماتيا"
    },
    {
      question: "ما كانت مهنة فيتاليس؟",
      answers: ["موسيقي متجول", "تاجر", "فلاح", "مُدرس"],
      correct: "موسيقي متجول"
    },
    {
      question: "من اكتشف أن ريمي ليس ابن عائلته الأولى؟",
      answers: ["الأب بالتبني", "الأم", "الجار", "الشرطة"],
      correct: "الأب بالتبني"
    }
  ],
  "سالي": [
    {
      question: "في أي مدرسة درست سالي؟",
      answers: ["مدرسة الآنسة منشن", "مدرسة لندن", "أكاديمية الورود", "مدرسة الراهبات"],
      correct: "مدرسة الآنسة منشن"
    },
    {
      question: "ما اسم الخادمة التي كانت تساعد سالي؟",
      answers: ["بيكي", "إيميلي", "جودي", "ليزا"],
      correct: "بيكي"
    },
    {
      question: "من الشخص الذي أنقذ سالي في النهاية؟",
      answers: ["صديق والدها", "الخادمة", "مدير المدرسة", "الطبيب"],
      correct: "صديق والدها"
    },
    {
      question: "ما جنسية سالي؟",
      answers: ["بريطانية", "فرنسية", "أمريكية", "هندية"],
      correct: "بريطانية"
    },
    {
      question: "ما الذي حدث لوالد سالي؟",
      answers: ["توفي", "سافر", "فقد الذاكرة", "سُجن"],
      correct: "توفي"
    }
  ],
  "عهد الأصدقاء": [
    {
      question: "ما اسم البطل في عهد الأصدقاء؟",
      answers: ["روميو", "ماركو", "لوكا", "أندريا"],
      correct: "روميو"
    },
    {
      question: "ما كانت وظيفة روميو بعد بيعه؟",
      answers: ["منظف مداخن", "مزارع", "نجار", "ساعي بريد"],
      correct: "منظف مداخن"
    },
    {
      question: "ما اسم أفضل صديق لروميو؟",
      answers: ["ألفريدو", "بيبو", "أنطونيو", "جاك"],
      correct: "ألفريدو"
    },
    {
      question: "في أي مدينة تدور أحداث القصة؟",
      answers: ["ميلانو", "روما", "تورينو", "نابولي"],
      correct: "ميلانو"
    },
    {
      question: "من هو العدو الرئيسي لأصدقاء المداخن؟",
      answers: ["البارون", "المعلم روسي", "صاحب القصر", "الطفل القاسي"],
      correct: "البارون"
    }
  ],
  "ماوكلي": [
    {
      question: "من ربى ماوكلي؟",
      answers: ["الذئاب", "النمور", "الدببة", "القرود"],
      correct: "الذئاب"
    },
    {
      question: "من هو النمر الشرير؟",
      answers: ["شيرخان", "بالو", "كيرا", "باك"],
      correct: "شيرخان"
    },
    {
      question: "من الدب الطيب الذي علم ماوكلي؟",
      answers: ["بالو", "شيرخان", "كا", "موكا"],
      correct: "بالو"
    },
    {
      question: "من هو الفهد الأسود؟",
      answers: ["باغيرا", "شيتا", "تايغر", "ليو"],
      correct: "باغيرا"
    },
    {
      question: "ماذا كان يخاف منه شيرخان؟",
      answers: ["النار", "الذئاب", "الماء", "الإنسان"],
      correct: "النار"
    }
  ],
  "بابار الفيل": [
    {
      question: "ما هو نوع بابار؟",
      answers: ["فيل", "أسد", "دب", "زرافة"],
      correct: "فيل"
    },
    {
      question: "ما اسم زوجة بابار؟",
      answers: ["سيليست", "لولا", "إيما", "روز"],
      correct: "سيليست"
    },
    {
      question: "كم عدد أولاد بابار؟",
      answers: ["3", "2", "5", "4"],
      correct: "3"
    },
    {
      question: "من هو عدوه الأساسي؟",
      answers: ["ريتلز", "الأسد الشرير", "الصياد", "التماسيح"],
      correct: "ريتلز"
    },
    {
      question: "ما اسم المدينة التي يعيش فيها بابار؟",
      answers: ["سيليستي", "أفريكانا", "الفيلة", "فيلتون"],
      correct: "سيليستي"
    }
  ],
  "أنا وأخي": [
    {
      question: "ما اسم الأخ الصغير؟",
      answers: ["سامي", "عصام", "حسام", "كريم"],
      correct: "سامي"
    },
    {
      question: "ما اسم الأخ الكبير؟",
      answers: ["عصام", "سامي", "حازم", "فادي"],
      correct: "عصام"
    },
    {
      question: "ماذا يحب سامي أن يأكل؟",
      answers: ["الموز", "الشوكولاتة", "الحليب", "الجبن"],
      correct: "الموز"
    },
    {
      question: "ماذا كان يعمل والدهم؟",
      answers: ["طبيب", "موسيقي", "مهندس", "معلم"],
      correct: "موسيقي"
    },
    {
      question: "من مات في بداية القصة؟",
      answers: ["الأم", "الجد", "العم", "الوالد"],
      correct: "الوالدة"
    }
  ],
  "بال وسيبستيان": [
    {
      question: "ما نوع بال؟",
      answers: ["كلب", "دب", "ذئب", "ثور"],
      correct: "كلب"
    },
    {
      question: "ما اسم الطفل؟",
      answers: ["سيبستيان", "لوكا", "ألكس", "جيمي"],
      correct: "سيبستيان"
    },
    {
      question: "ما لون فراء بال؟",
      answers: ["أبيض", "أسود", "رمادي", "بني"],
      correct: "أبيض"
    },
    {
      question: "في أي منطقة تقع القصة؟",
      answers: ["جبال الألب", "المدينة", "الغابة", "القرية"],
      correct: "جبال الألب"
    },
    {
      question: "من الذي يلاحق بال؟",
      answers: ["الشرطة", "الصيادون", "الذئاب", "المزارعون"],
      correct: "الصيادون"
    }
  ],
  "هايدي": [
    {
      question: "أين كانت تعيش هايدي؟",
      answers: ["في الجبال مع جدها", "في المدينة", "في الصحراء", "في الغابة"],
      correct: "في الجبال مع جدها"
    },
    {
      question: "ما اسم صديقتها المريضة؟",
      answers: ["كلارا", "ماريا", "ليزا", "جيني"],
      correct: "كلارا"
    },
    {
      question: "ما اسم جد هايدي؟",
      answers: ["الجد العجوز", "بيتر", "توماس", "ألفونس"],
      correct: "الجد العجوز"
    },
    {
      question: "ما اسم الصبي راعي الغنم؟",
      answers: ["بيتر", "جورج", "أندرو", "ماركو"],
      correct: "بيتر"
    },
    {
      question: "لماذا ذهبت هايدي إلى المدينة؟",
      answers: ["لمرافقة كلارا", "لتدرس", "لزيارة والدها", "لتتسوق"],
      correct: "لمرافقة كلارا"
    }
  ]
};


let currentQuiz = [];
let currentIndex = 0;
let score = 0;

document.getElementById("askButton").addEventListener("click", () => {
  const input = document.getElementById("cartoonInput").value.toLowerCase().trim();
  const quiz = quizData[input];
  const quizSection = document.getElementById("quizSection");
  const message = document.getElementById("message");
  const scoreDisplay = document.getElementById("score");

  if (quiz) {
    currentQuiz = quiz.slice(0, 5); // Get first 5 questions
    currentIndex = 0;
    score = 0;
    scoreDisplay.textContent = "";
    quizSection.classList.remove("hidden");
    message.textContent = "";
    loadQuestion();
  } else {
    quizSection.classList.add("hidden");
    message.textContent = "الرسوم غير موجودة. جربي مثلاً: ريمي، سالي، سبونج بوب، هايدي...";
    message.style.color = "#d32f2f";
  }
});

function loadQuestion() {
  const questionData = currentQuiz[currentIndex];
  document.getElementById("quizQuestion").textContent = questionData.question;

  const answersDiv = document.getElementById("answers");
  answersDiv.innerHTML = "";

  questionData.answers.forEach(answer => {
    const btn = document.createElement("button");
    btn.textContent = answer;
    btn.addEventListener("click", () => {
      const message = document.getElementById("message");
      if (answer === questionData.correct) {
        score++;
        message.textContent = "✅ إجابة صحيحة!";
        message.style.color = "green";
      } else {
        message.textContent = `❌ إجابة خاطئة! الإجابة الصحيحة هي: ${questionData.correct}`;
        message.style.color = "red";
      }

      setTimeout(() => {
        currentIndex++;
        if (currentIndex < currentQuiz.length) {
          loadQuestion();
        } else {
          showFinalResult();
        }
      }, 1500);
    });
    answersDiv.appendChild(btn);
  });
}

function showFinalResult() {
  document.getElementById("quizQuestion").textContent = "🎉 لقد أنهيت الاختبار!";
  document.getElementById("answers").innerHTML = "";
  document.getElementById("score").textContent = `نتيجتك: ${score} من ${currentQuiz.length}`;
}

